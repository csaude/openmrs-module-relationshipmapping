
<div class="container">
    <div class="row">
        <div class="col"><h3>{{'title_mapping_history' | translate}}</h3><br></div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-8">
        </div>
        <div class="col-lg-2">
            <button type="submit" ng-click="runMappingTask()" ng-disabled="isServiceRunning" class="btn btn-success pull-right">{{'general_run_now' | translate}}</button>
        </div>
        <div class="col-lg-2">
            <button type="submit" ng-click="refreshList()" class="btn btn-primary pull-right">{{'general_refresh' | translate}}</button>
        </div>
    </div>
    <div class="row" ng-show="!isServiceRunning && wasServiceRunningAnotherTask">
        <div class="alert alert-warning w-100">{{'mapping_service_was_running' | translate}}</div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-12">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th> {{'query_date_time' | translate}}</th>
                        <th># {{'relationships_created' | translate}}</th>
                        <th># {{'persons_created' | translate}}</th>
                        <th># {{'obs_created' | translate}}</th>
                        <th># {{'persons_for_obs_created' | translate}}</th>
                        <th># {{'index_cases_involved' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                <tr ng-repeat=" executionCycle in executionCycles">
                    <td align="center">{{executionCycle.queryEndTime}}</td>
                    <td align="center">{{executionCycle.relationshipsCreated}}</td>
                    <td align="center">{{executionCycle.personsCreated}}</td>
                    <td align="center">{{executionCycle.obsCreated}}</td>
                    <td align="center">{{executionCycle.personsForObsCreated}}</td>
                    <td align="center">{{executionCycle.indexCasesInvolved}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div  class="row">
        <div class="col-lg-8">
            <ul ng-show="executionCycles.length" ng-if="loadPaginationStub" ng-show="noOfPages > 1" uib-pagination total-items="totalItems" ng-model="$parent.currentPage" max-size="paginationMaxSize"
                items-per-page="pageSize" boundary-links="true" force-ellipses="true" class="pull-right"
                first-text="{{'pagination_first'|translate}}" previous-text="{{'pagination_previous'|translate}}"
                next-text="{{'pagination_next'|translate}}" last-text="{{'pagination_last'|translate}}"></ul>
        </div>
    </div>

    <br/>
<div>

</div>
</div>